
<!DOCTYPE html>
<html>
    <head>
    <title>PostVis.ko</title><!--<link rel="stylesheet" href="./stylesheets/bubble_style.css">-->
    <script src="./javascripts/d3.v3.min.js" charset="utf-8"></script>
    <script src="http://d3js.org/d3.v4.js"></script>
    <script src="./javascripts/jquery-1.12.0.min.js" charset="utf-8"></script>
    <script src="data/data.js" charset="utf-8"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }

        #header{
            height:50px;
            background-color:#00cec9;
            clear:both;
        }

        #left {
            position:relative;
            float:left;
            overflow:hidden;
            width:14%;
            height:920px;
            padding: 0.5%;
            background-color:whitesmoke;
            background-clip: content-box;
        }


        #section {
            position:relative;
            float:left;
            overflow:hidden;
            width:67%;
            height:920px;
            padding: 0.5%;
            background-clip: content-box;
        }

        #right {
            position:relative;
            float:right;
            overflow:hidden;
            width:19%;
            height:920px;
            padding: 0.5%;
            background-color:whitesmoke;
            background-clip: content-box;
        }


        #footer {
            height:10px;
            background-color:#717171;
            clear:both;
        }

        select#op_method {
           width: 80%;
           height: 30px;
           padding-left: 5%;
           font-size: 17px;
           border-radius: 3px;
           position: absolute;
           top: 60px; 
           left: 10%;
           background: white; 
        }

        select#op_window {
           width: 80%;
           height: 30px;
           padding-left: 5%;
           font-size: 17px;
           border-radius: 3px;
           position: absolute;
           top: 160px; 
           left: 10%;
           background: white; 
        }

        select#op_node_size {
           width: 80%;
           height: 30px;
           padding-left: 5%;
           font-size: 17px;
           border-radius: 3px;
           position: absolute;
           top: 260px; 
           left: 10%;
           background: white; 
        }

        select#op_node_color {
           width: 80%;
           height: 30px;
           padding-left: 5%;
           font-size: 17px;
           border-radius: 3px;
           position: absolute;
           top: 360px; 
           left: 10%;
           background: white; 
        }


    </style>
    </head>
    <body>
        <div id="header">
        </div>
        <div id="left">
            <select id="op_method">
                <option value="svd" selected="selected">SVD</option>
                <option value="ppmi_svd">PPMI_SVD</option>
                <option value="sgns">SGNS</option>
                <!--<option value="glove">GloVe</option>-->
            </select>
            <select id="op_window">
                <option value="window1" selected="selected">Window : 1</option>
                <option value="window2">Window : 2</option>
                <option value="window3">Window : 3</option>
                <option value="window4">Window : 4</option>
                <option value="window5">Window : 5</option>
                <option value="window6">Window : 6</option>
                <option value="window7">Window : 7</option>
                <option value="window8">Window : 8</option>
                <option value="window9">Window : 9</option>
                    <option value="window10">Window : 10</option>
            </select>
            <select id="op_node_size">
                <option id="frequncy_size" value="frequncy" selected="selected">Frequncy</option>
                <option id="nomal_size" value="nomal">Default</option>
            </select>
            <select id="op_node_color">
                <option id="class_color" value="class" selected="selected">Class</option>
                <option id="nomal_color" value="nomal">Default</option>
            </select>
        </div>
        <div id="section">
            <script>$(document).ready(function () {

                var width = $(window).width()   //윈도우 넓이
                var height = $(window).height()   //윈도우 높이

                var svgheader = d3.select("#header")
                        .append("svg")
                        .attr("width", width)
                        .attr("height", 50)

                svgheader.append("image")
                    .attr("xlink:href", "images/person.png")
                    .attr("x", width * 0.92)
                    .attr("y", 12.5)
                    .attr("width", 60)
                    .attr("height", 27)
                    .style("cursor", "default")
                    .on("mouseover", function () {
                        d3.select(this)
                                .attr("x", width * 0.919)
                                .attr("y", 10.5)
                                .attr("width", 64)
                                .attr("height", 32)
                                .style("cursor", "pointer")
                    })
                    .on("mouseout", function () {
                        d3.select(this)
                                .attr("x", width * 0.92)
                                .attr("y", 12.5)
                                .attr("width", 60)
                                .attr("height", 29)
                                .style("cursor", "default")
                    })
                    .on("click", Show_popup_personal);

                //Show_popup()

                function Show_popup_personal() {
                    window.open("https://mr-seongmin.github.io/MyWebsite/Seongmin/");
                }

                svgheader.append("image")
                    .attr("xlink:href", "images/question.png")
                    .attr("x", width * 0.94)
                    .attr("y", 12)
                    .attr("width", 60)
                    .attr("height", 29)
                    .style("cursor", "default")
                    .on("mouseover", function () {
                        d3.select(this)
                                .attr("x", width * 0.938)
                                .attr("y", 10)
                                .attr("width", 68)
                                .attr("height", 34)
                                .style("cursor", "pointer")
                    })
                    .on("mouseout", function () {
                        d3.select(this)
                                .attr("x", width * 0.94)
                                .attr("y", 12)
                                .attr("width", 60)
                                .attr("height", 29)
                                .style("cursor", "default")
                    })

                svgheader.append("image")
                    .attr("xlink:href", "images/impact.png")
                    .attr("x", width * 0.96)
                    .attr("y", 12)
                    .attr("width", 60)
                    .attr("height", 29)
                    .style("cursor", "default")
                    .on("mouseover", function () {
                        d3.select(this)
                                .attr("x", width * 0.958)
                                .attr("y", 10)
                                .attr("width", 68)
                                .attr("height", 34)
                                .style("cursor", "pointer")
                    })
                    .on("mouseout", function () {
                        d3.select(this)
                                .attr("x", width * 0.96)
                                .attr("y", 12)
                                .attr("width", 60)
                                .attr("height", 29)
                                .style("cursor", "default")
                    })

                svgheader.append("text")
                        .text("PostVis.ko")
                        .attr("x", width * 0.01)
                        .attr("y", 35)
                        .attr("text-anchor", "start")
                        .attr("font-family", "Open Sans")
                        .attr("font-size", "30px")
                        .attr("fill", "white")


                //왼쪽 프레임
                var svgleft = d3.select("#left")
                        .append("svg")
                        .attr("width", width * 0.13)
                        .attr("height", 920)


                svgleft.append("text")
                        .text("Select Method")
                        .attr("x", width * 0.01)
                        .attr("y", 35)
                        .attr("text-anchor", "start")
                        .attr("font-family", "Open Sans")
                        .attr("font-size", "25px")
                        .attr("fill", "#666666")
                        .attr("font-weight", "bold")

                svgleft.append("line").attr("x1", 0).attr("y1", 100).attr("x2", width * 0.13).attr("y2", 100).attr("stroke-width", "1px").attr("stroke", "#C2C1C1")

                svgleft.append("text")
                        .text("Select Window")
                        .attr("x", width * 0.01)
                        .attr("y", 135)
                        .attr("text-anchor", "start")
                        .attr("font-family", "Open Sans")
                        .attr("font-size", "25px")
                        .attr("fill", "#666666")
                        .attr("font-weight", "bold")

                svgleft.append("line").attr("x1", 0).attr("y1", 200).attr("x2", width * 0.13).attr("y2", 200).attr("stroke-width", "1px").attr("stroke", "#C2C1C1")

                svgleft.append("text")
                        .text("Node Size")
                        .attr("x", width * 0.01)
                        .attr("y", 235)
                        .attr("text-anchor", "start")
                        .attr("font-family", "Open Sans")
                        .attr("font-size", "25px")
                        .attr("fill", "#666666")
                        .attr("font-weight", "bold")

                svgleft.append("line").attr("x1", 0).attr("y1", 300).attr("x2", width * 0.13).attr("y2", 300).attr("stroke-width", "1px").attr("stroke", "#C2C1C1")

                svgleft.append("text")
                        .text("Node Color")
                        .attr("x", width * 0.01)
                        .attr("y", 335)
                        .attr("text-anchor", "start")
                        .attr("font-family", "Open Sans")
                        .attr("font-size", "25px")
                        .attr("fill", "#666666")
                        .attr("font-weight", "bold")

                svgleft.append("line").attr("x1", 0).attr("y1", 400).attr("x2", width * 0.13).attr("y2", 400).attr("stroke-width", "1px").attr("stroke", "#C2C1C1")

                svgleft.append("text")
                        .text("Color Legend")
                        .attr("x", width * 0.01)
                        .attr("y", 435)
                        .attr("text-anchor", "start")
                        .attr("font-family", "Open Sans")
                        .attr("font-size", "25px")
                        .attr("fill", "#666666")
                        .attr("font-weight", "bold")

                svgleft.append("rect")
                        .attr("class", "svgleft_rect")
                        .attr("x", width * 0.01)
                        .attr("y", 455)
                        .attr("width", (width * 0.11))
                        .attr("height", 430)
                        .attr("rx", 6)
                        .attr("ry", 6)
                        .attr("fill", "white")
                        .attr('stroke', '#C2C1C1')
                        .attr('stroke-width', '2')

                var CM_name = ["JKS","JKC","JKG","JKO","JKB","JKV","JKQ","JX","JC"];
                var CM_color = ["#AA3939", "#AA6539", "#AA7D39", "#AA9839", "#A6A938", "#779D34", "#277553", "#27576B", "#C2C1C1"];


                for (var i = 0; i < CM_name.length; i++) {

                    svgleft.append("rect")
                            .attr("class", "node_legend_rect")
                            .attr("x", width * 0.02)
                            .attr("y", 470 + (40 * i))
                            .attr("stroke", "#C2C1C1")
                            .attr("stroke-width", "1px")
                            .attr("rx", 1)
                            .attr("ry", 1)
                            .attr("width", 20)
                            .attr("height", 20)
                            .attr("fill", CM_color[i])
                            .on("mouseover", (function (index) {
                                return (function () {
                                    d3.selectAll(".nodetext")
                                            .data(data)
                                            .attr("opacity", function (d) {
                                                if (d.pos == CM_name[index]) {
                                                    return 0.95
                                                } else {
                                                    return 0.1
                                                }
                                            })
                                            .style("font-weight", function (d) {
                                                if (d.pos == CM_name[index]) {
                                                    return "bold"
                                                } else {
                                                    return ""
                                                }
                                            });
                                    d3.selectAll(".nodedot")
                                            .data(data)
                                            .attr("opacity", function (d) {
                                                if (d.pos == CM_name[index]) {
                                                    return 0.95
                                                } else {
                                                    return 0.1
                                                }
                                            });
                                    d3.select(this)
                                            .attr('stroke', '#00cec9')
                                            .attr('stroke-width', '3px');
                                })
                            })(i))
                            .on("mouseout", function () {
                                d3.selectAll(".nodetext")
                                        .style("font-weight", "")
                                        .attr("opacity", 0.8);
                                d3.selectAll(".nodedot")
                                        .attr("opacity", 0.8);
                                d3.select(this)
                                        .attr("stroke", "#C2C1C1")
                                        .attr("stroke-width", "1px");
                            })

                    svgleft.append("text")
                            .attr("x", width * 0.035)
                            .attr("y", 482 + (40 * i))
                            .attr("class", "node_legend_text")
                            .text(CM_name[i])
                            .attr("text-anchor", "start")
                            .attr("font-family", "Open Sans")
                            .attr("dominant-baseline", "middle")
                            .attr("font-size", "20px")
                            .attr("fill", "black")
                            .style("font-weight", "")
                            .style("cursor", "default")
                            .on("mouseover", (function (index) {
                                return (function () {
                                    d3.selectAll(".nodetext")
                                            .data(data)
                                            .attr("opacity", function (d) {
                                                if (d.pos == CM_name[index]) {
                                                    return 0.95
                                                } else {
                                                    return 0.1
                                                }
                                            })
                                            .style("font-weight", function (d) {
                                                if (d.pos == CM_name[index]) {
                                                    return "bold"
                                                } else {
                                                    return ""
                                                }
                                            });
                                    d3.selectAll(".nodedot")
                                            .data(data)
                                            .attr("opacity", function (d) {
                                                if (d.pos == CM_name[index]) {
                                                    return 0.95
                                                } else {
                                                    return 0.1
                                                }
                                            });
                                    d3.select(this)
                                            .attr("dominant-baseline", "central")
                                            .style("font-weight", "bold")
                                            .style("cursor", "default")
                                            .attr("fill", "#00cec9");
                                })
                            })(i))
                            .on("mouseout", function () {
                                d3.selectAll(".nodetext")
                                        .style("font-weight", "")
                                        .attr("opacity", 0.8);
                                d3.selectAll(".nodedot")
                                        .attr("opacity", 0.8);
                                d3.select(this)
                                        .attr("dominant-baseline", "middle")
                                        .style("font-weight", "")
                                        .style("cursor", "default")
                                        .attr("fill", "black");
                            })
                }

                //중앙 분포 시각화
                var svgSection = d3.select('#section').append('svg')
                        .attr('width', width * 0.66)
                        .attr('height', 920)
                        .call(d3.zoom().on("zoom", function () {
                           svgSection.attr("transform", d3.event.transform)
                        }))
                        .append("g");

                var NodeGroup = svgSection.append("g");

                //선택 정보 확인
                // console.log($( "#op_method" ).val());

                // function checkedeachValue(data_cb_class){
                //     var value;
                //     var checkedValue = $('#'+data_cb_class);
                //     if(checkedValue.val() == null){
                //       value = "null";
                //     } else {
                //       value = checkedValue.val();
                //     }
                //     return value;
                //   } 


                data = firstdrawdata();

                d3.selectAll("#op_method").on("change", changedrawdata);
                d3.selectAll("#op_window").on("change", changedrawdata);

                d3.selectAll("#op_node_size").on("change", change_size);
                d3.selectAll("#op_node_color").on("change", change_color);


                function change_color() {
                    if (this.value == "nomal") nodecolor_df();
                    else if (this.value === "class") nodecolor_color();
                }

                function nodecolor_df() {
                    NodeGroup.selectAll(".nodedot").data(data).transition().duration(2000).attr("fill", "rgb(51,51,51)")
                }

                function nodecolor_color() {

                    var CM_name = ["JKS","JKC","JKG","JKO","JKB","JKV","JKQ","JX","JC"];
                    var CM_color = ["#AA3939", "#AA6539", "#AA7D39", "#AA9839", "#A6A938", "#779D34", "#277553", "#27576B", "#"];
                    
                    NodeGroup.selectAll(".nodedot").data(data).transition().duration(2000)
                            .attr("fill", function (d) {
                                if (d.pos == CM_name[0]) {
                                    return CM_color[0]
                                } else if (d.pos == CM_name[1]) {
                                    return CM_color[1]
                                } else if (d.pos == CM_name[2]) {
                                    return CM_color[2]
                                } else if (d.pos == CM_name[3]) {
                                    return CM_color[3]
                                } else if (d.pos == CM_name[4]) {
                                    return CM_color[4]
                                } else if (d.pos == CM_name[5]) {
                                    return CM_color[5]
                                } else if (d.pos == CM_name[6]) {
                                    return CM_color[6]
                                } else if (d.pos == CM_name[7]) {
                                    return CM_color[7]
                                } else if (d.pos == CM_name[8]) {
                                    return CM_color[8]
                                }
                            })              
                }

                function change_size() {
                    if (this.value == "nomal") nodesize_df();
                    else if (this.value === "frequncy") nodesize_frequncy();
                }

                function nodesize_df() {
                    NodeGroup.selectAll(".nodedot").data(data).transition().duration(2000).attr("r", 7); 
                }

                function nodesize_frequncy() {
                    NodeGroup.selectAll(".nodedot").data(data).transition().duration(2000).attr("r", function (d) {
                                var size = (d.wordfrequncy/100000) * 6
                                if (size <= 7) {
                                    return 7
                                } else {
                                    return size
                                }
                            })            
                }


                function firstdrawdata() {

                    //선택 옵션 확인
                    var selected_method = $( "#op_method" ).val();
                    var selected_window = $( "#op_window" ).val();
                    var selected_node_size = $( "#op_node_size" ).val();
                    var selected_node_color = $( "#op_node_color" ).val();

                    console.log(selected_method);
                    console.log(selected_window);
                    console.log(selected_node_size);
                    console.log(selected_node_color);

                    var data = [];

                    for (var i = 0; i < analyzed_data.length ; i++) {
                        if (analyzed_data[i].test === selected_method && analyzed_data[i].windowsize === selected_window) {
                            data.push(analyzed_data[i]);
                        }
                    }

                    console.log("data : " + data[1]);

                    var w = width*0.66;
                    var h = 920;
                    var padding = 50;

                    var xScale = d3.scale.linear()
                        .domain([d3.min(data, function(d) { return d.y; }), d3.max(data, function(d) { return d.x; })])
                        .range([0+padding, w-padding]);

                    var yScale = d3.scale.linear()
                         .domain([d3.min(data, function(d) { return d.y; }), d3.max(data, function(d) { return d.y; })])
                         .range([h-padding, 0+padding]);

                    NodeGroup.selectAll(".nodedot")
                            .data(data)
                            .enter()
                            .append("circle")
                            .attr("class", "nodedot")
                            .attr("cx", function (d) {
                                return xScale(d.x)
                            })
                            .attr("cy", function (d) {
                                return yScale(d.y)
                            })
                            .attr("r", function (d) {
                                var size = (d.wordfrequncy/100000) * 6
                                if (size <= 7) {
                                    return 7
                                } else {
                                    return size
                                }
                            })  
                            .attr("fill", function (d) {
                                if (d.pos == CM_name[0]) {
                                    return CM_color[0]
                                } else if (d.pos == CM_name[1]) {
                                    return CM_color[1]
                                } else if (d.pos == CM_name[2]) {
                                    return CM_color[2]
                                } else if (d.pos == CM_name[3]) {
                                    return CM_color[3]
                                } else if (d.pos == CM_name[4]) {
                                    return CM_color[4]
                                } else if (d.pos == CM_name[5]) {
                                    return CM_color[5]
                                } else if (d.pos == CM_name[6]) {
                                    return CM_color[6]
                                } else if (d.pos == CM_name[7]) {
                                    return CM_color[7]
                                } else if (d.pos == CM_name[8]) {
                                    return CM_color[8]
                                }
                            }) 
                            .attr("stroke", "black")
                            .attr("stroke-width", "1px")
                            .attr("opacity", 0.7)
                            .style("cursor", "pointer")
                            .on('click', function(d) {
                                var word = d.casemarker+"/"+d.pos+"/"+d.test+"/"+d.windowsize;
                                drawnetwork(word);
                            })
                            .on("mouseover", function () {
                                d3.select(this)
                                        .attr("stroke", "black")
                                        .attr("stroke-width", "1px")
                                        .attr("opacity", 1)
                            })
                            .on("mouseout", function () {
                                d3.select(this)
                                        .attr("stroke", "black")
                                        .attr("stroke-width", "1px")
                                        .attr("opacity", 0.7)
                            });


                    NodeGroup.selectAll(".nodetext")
                            .data(data)
                            .enter()
                            .append("text")
                            .attr("class", "nodetext")
                            .text(function (d) {
                                return d.casemarker+"/"+d.pos
                            })
                            .attr("x", function (d) {
                                return xScale(d.x) + 10
                            })
                            .attr("y", function (d) {
                                return yScale(d.y) + 7
                            })
                            .attr("font-family", "sans-serif")
                            .attr("font-size", "15px")
                            .attr("fill", "rgb(51,51,51)")
                            .attr("opacity", 0.8)
                            .style("cursor", "pointer")
                            .on('click', function(d) {
                                var word = d.casemarker+"/"+d.pos+"/"+d.test+"/"+d.windowsize
                                drawnetwork(word);
                            })
                            .on("mouseover", function () {
                                d3.select(this)
                                        .attr("font-size", "17px")
                                        .attr("opacity", 1);
                            })
                            .on("mouseout", function () {
                                d3.select(this)
                                        .attr("font-size", "15px")
                                        .attr("opacity", 0.8);
                            });

                    return data;

                }       


                function changedrawdata() {

                    svgright.selectAll(".selectword").remove();

                    document.getElementById('frequncy_size').selected = true;
                    document.getElementById('class_color').selected = true;

                    //선택 옵션 확인
                    var selected_method = $( "#op_method" ).val();
                    var selected_window = $( "#op_window" ).val();
                    var selected_node_size = $( "#op_node_size" ).val();
                    var selected_node_color = $( "#op_node_color" ).val();

                    console.log(selected_method);
                    console.log(selected_window);
                    console.log(selected_node_size);
                    console.log(selected_node_color);

                    var data = [];

                    for (var i = 0; i < analyzed_data.length ; i++) {
                        if (analyzed_data[i].test === selected_method && analyzed_data[i].windowsize === selected_window) {
                            data.push(analyzed_data[i]);
                        }
                    }

                    var w = width*0.66;
                    var h = 920;
                    var padding = 50;

                    var xScale = d3.scale.linear()
                        .domain([d3.min(data, function(d) { return d.y; }), d3.max(data, function(d) { return d.x; })])
                        .range([0+padding, w-padding]);

                    var yScale = d3.scale.linear()
                         .domain([d3.min(data, function(d) { return d.y; }), d3.max(data, function(d) { return d.y; })])
                         .range([h-padding, 0+padding]);

                    var circle = NodeGroup.selectAll(".nodedot")
                    .data(data)

                    circle.enter()
                            .append("circle")
                            .attr("class", "nodedot")
                            .attr("cx", function (d) {
                                return xScale(d.x)
                            })
                            .attr("cy", function (d) {
                                return yScale(d.y)
                            })
                            .attr("r", function (d) {
                                var size = (d.wordfrequncy/100000) * 6
                                if (size <= 7) {
                                    return 7
                                } else {
                                    return size
                                }
                            })  
                            .attr("fill", function (d) {
                                if (d.pos == CM_name[0]) {
                                    return CM_color[0]
                                } else if (d.pos == CM_name[1]) {
                                    return CM_color[1]
                                } else if (d.pos == CM_name[2]) {
                                    return CM_color[2]
                                } else if (d.pos == CM_name[3]) {
                                    return CM_color[3]
                                } else if (d.pos == CM_name[4]) {
                                    return CM_color[4]
                                } else if (d.pos == CM_name[5]) {
                                    return CM_color[5]
                                } else if (d.pos == CM_name[6]) {
                                    return CM_color[6]
                                } else if (d.pos == CM_name[7]) {
                                    return CM_color[7]
                                } else if (d.pos == CM_name[8]) {
                                    return CM_color[8]
                                }
                            }) 
                            .attr("stroke", "black")
                            .attr("stroke-width", "1px")
                            .attr("opacity", 0.7)
                            .style("cursor", "pointer");
                            


                    circle.transition()
                            .duration(2000)
                            .attr("cx", function (d) {
                                return xScale(d.x)
                            })
                            .attr("cy", function (d) {
                                return yScale(d.y)
                            })
                            .attr("r", function (d) {
                                var size = (d.wordfrequncy/100000) * 6
                                if (size <= 7) {
                                    return 7
                                } else {
                                    return size
                                }
                            })  
                            .attr("fill", function (d) {
                                if (d.pos == CM_name[0]) {
                                    return CM_color[0]
                                } else if (d.pos == CM_name[1]) {
                                    return CM_color[1]
                                } else if (d.pos == CM_name[2]) {
                                    return CM_color[2]
                                } else if (d.pos == CM_name[3]) {
                                    return CM_color[3]
                                } else if (d.pos == CM_name[4]) {
                                    return CM_color[4]
                                } else if (d.pos == CM_name[5]) {
                                    return CM_color[5]
                                } else if (d.pos == CM_name[6]) {
                                    return CM_color[6]
                                } else if (d.pos == CM_name[7]) {
                                    return CM_color[7]
                                } else if (d.pos == CM_name[8]) {
                                    return CM_color[8]
                                }
                            }) 
                            .attr("stroke", "black")
                            .attr("stroke-width", "1px")
                            .attr("opacity", 0.7)
                            .style("cursor", "pointer");
                            


                    circle.exit().remove()


                    var text = NodeGroup.selectAll(".nodetext")
                    .data(data)

                    text.enter()
                            .append("text")
                            .attr("class", "nodetext")
                            .text(function (d) {
                                return d.casemarker+"/"+d.pos
                            })
                            .attr("x", function (d) {
                                return xScale(d.x) + 10
                            })
                            .attr("y", function (d) {
                                return yScale(d.y) + 7
                            })
                            .attr("font-family", "sans-serif")
                            .attr("font-size", "15px")
                            .attr("fill", "rgb(51,51,51)")
                            .attr("opacity", 0.8)
                            .style("cursor", "pointer");
                            


                    text.transition()
                            .duration(2000)
                            .text(function (d) {
                                return d.casemarker+"/"+d.pos
                            })
                            .attr("x", function (d) {
                                return xScale(d.x) + 10
                            })
                            .attr("y", function (d) {
                                return yScale(d.y) + 7
                            })
                            .attr("font-family", "sans-serif")
                            .attr("font-size", "15px")
                            .attr("fill", "rgb(51,51,51)")
                            .attr("opacity", 0.8)
                            .style("cursor", "pointer");
                            

                    text.exit().remove()


                

                    return data;
                    
                }     


                //오른쪽 프레임
                var svgright = d3.select("#right")
                        .append("svg")
                        .attr("width", width * 0.18)
                        .attr("height", 920)

                svgright.append("text")
                        .text("Select Word")
                        .attr("x", width * 0.01)
                        .attr("y", 35)
                        .attr("text-anchor", "start")
                        .attr("font-family", "Open Sans")
                        .attr("font-size", "25px")
                        .attr("fill", "#666666")
                        .attr("font-weight", "bold")

                svgright.append("rect")
                        .attr("class", "svgleft_rect")
                        .attr("x", width * 0.01)
                        .attr("y", 50)
                        .attr("width", (width * 0.16))
                        .attr("height", 35)
                        .attr("rx", 6)
                        .attr("ry", 6)
                        .attr("fill", "white")
                        .attr('stroke', '#C2C1C1')
                        .attr('stroke-width', '2')

                svgright.append("line").attr("x1", 0).attr("y1", 100).attr("x2", width * 0.18).attr("y2", 100).attr("stroke-width", "1px").attr("stroke", "#C2C1C1")

                svgright.append("text")
                        .text("Force Directed Graph")
                        .attr("x", width * 0.01)
                        .attr("y", 135)
                        .attr("text-anchor", "start")
                        .attr("font-family", "Open Sans")
                        .attr("font-size", "25px")
                        .attr("fill", "#666666")
                        .attr("font-weight", "bold")

                svgright.append("rect")
                        .attr("x", width * 0.01)
                        .attr("y", 150)
                        .attr("width", (width * 0.16))
                        .attr("height", 250)
                        .attr("rx", 6)
                        .attr("ry", 6)
                        .attr("fill", "white")
                        .attr('stroke', '#C2C1C1')
                        .attr('stroke-width', '2')

                svgright.append("line").attr("x1", 0).attr("y1", 420).attr("x2", width * 0.18).attr("y2", 420).attr("stroke-width", "1px").attr("stroke", "#C2C1C1")

                svgright.append("text")
                        .text("Nearest Words")
                        .attr("x", width * 0.01)
                        .attr("y", 455)
                        .attr("text-anchor", "start")
                        .attr("font-family", "Open Sans")
                        .attr("font-size", "25px")
                        .attr("fill", "#666666")
                        .attr("font-weight", "bold")

                svgright.append("rect")
                        .attr("x", width * 0.01)
                        .attr("y", 475)
                        .attr("width", (width * 0.16))
                        .attr("height", 410)
                        .attr("rx", 6)
                        .attr("ry", 6)
                        .attr("fill", "white")
                        .attr('stroke', '#C2C1C1')
                        .attr('stroke-width', '2')

                function drawnetwork(data) {
                    svgright.selectAll(".selectword").remove();
                    svgright.append("text")
                        .attr("class", "selectword")
                        .text(data)
                        .attr("x", width * 0.015)
                        .attr("y", 76)
                        .attr("text-anchor", "start")
                        .attr("font-family", "Open Sans")
                        .attr("font-size", "20px")
                        .attr("fill", "#666666");
                }



                })
            </script>
        </div>
        <div id="right">
        </div>
        <div id="footer">
        </div>
    </body>
</html>
